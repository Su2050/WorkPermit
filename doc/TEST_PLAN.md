# 作业票管理系统测试方案

## 1. 测试范围

### 1.1 后端API测试
- 认证授权API
- 作业票管理API
- 施工单位管理API
- 区域管理API
- 视频管理API
- 人员管理API
- 报表统计API

### 1.2 前端功能测试
- 登录功能
- Dashboard页面
- 作业票管理页面
- 筛选功能
- 数据展示

### 1.3 集成测试
- 前后端数据交互
- 多租户隔离
- 权限控制

## 2. 测试用例

### 2.1 认证授权测试
- [ ] 用户登录（正确凭证）
- [ ] 用户登录（错误凭证）
- [ ] 获取当前用户信息
- [ ] Token验证
- [ ] 修改密码

### 2.2 作业票管理测试
- [ ] 获取作业票列表（分页）
- [ ] 获取作业票列表（筛选：施工单位）
- [ ] 获取作业票列表（筛选：状态）
- [ ] 获取作业票列表（筛选：日期范围）
- [ ] 获取作业票列表（搜索：关键词）
- [ ] 获取作业票详情
- [ ] 创建作业票
- [ ] 更新作业票
- [ ] 关闭作业票

### 2.3 施工单位管理测试
- [ ] 获取施工单位列表
- [ ] 获取施工单位选项
- [ ] 获取施工单位详情
- [ ] 创建施工单位
- [ ] 更新施工单位

### 2.4 区域管理测试
- [ ] 获取区域列表
- [ ] 获取区域详情
- [ ] 创建区域
- [ ] 更新区域

### 2.5 视频管理测试
- [ ] 获取视频列表
- [ ] 获取视频详情
- [ ] 创建视频
- [ ] 更新视频

### 2.6 人员管理测试
- [ ] 获取人员列表
- [ ] 获取人员详情
- [ ] 创建人员
- [ ] 更新人员

### 2.7 报表统计测试
- [ ] 获取Dashboard数据
- [ ] 获取培训进度报告
- [ ] 获取对账报告
- [ ] 获取进出事件记录

### 2.8 告警管理测试
- [ ] 获取告警统计
- [ ] 获取告警列表
- [ ] 获取告警详情
- [ ] 确认告警
- [ ] 批量确认告警
- [ ] 获取告警规则列表
- [ ] 更新告警规则

### 2.8 告警管理测试
- [x] 获取告警统计
- [x] 获取告警列表
- [ ] 获取告警详情
- [ ] 确认告警
- [ ] 批量确认告警
- [ ] 获取告警规则列表
- [ ] 更新告警规则

### 2.9 前端功能测试
- [ ] 登录页面正常显示
- [ ] Dashboard页面数据加载
- [ ] 作业票列表页面数据加载
- [ ] 筛选功能正常工作
- [ ] 分页功能正常工作
- [ ] 告警统计显示正常（不再报404错误）

## 3. 测试数据准备

### 3.1 测试用户
- 用户名: admin
- 密码: admin123

### 3.2 测试数据
- 已有demo数据（通过init_demo_data.py初始化）

## 4. 测试执行

### 4.1 自动化测试脚本
- 使用Python requests库编写API测试
- 使用pytest框架组织测试用例

### 4.2 手动测试
- 前端页面功能验证
- UI交互测试

## 5. 测试报告

### 5.1 测试结果统计
- 总用例数
- 通过用例数
- 失败用例数
- 通过率

### 5.2 问题记录
- Bug列表
- 优先级
- 修复建议

